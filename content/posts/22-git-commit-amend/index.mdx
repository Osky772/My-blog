---
title: Nadpisanie poprzedniego commita
date: 2021-10-04
tags:
  - Git
  - Github
---

import { jsx, Link as TLink } from "theme-ui"
import ExternalPostLink from '../../../src/components/ExternalPostLink.tsx';
import Code from "@lekoarts/gatsby-theme-minimal-blog/src/components/code"

Niejednokrotnie przydaje si nadpisanie poprzedniego commita.
Poprzez nadpisanie mam na myli na przykad zmian commit message, edycj kodu lub dodanie jakich plik贸w do poprzedniego commita.
Dziki nadpisywaniu commit贸w zachowujemy czyst histori zmian w projekcie, unikajc brzydkich commit贸w typu: "add forgotten file".

> Nale偶y pamita, 偶e nadpisanie commita naprawd go nadpisuje i nie ma mo偶lwoci odzyskania jego stanu sprzed zmiany.
W skr贸cie, trzeba wiedzie co si robi.

## git commit --amend

Komenda `git commit --amend` pozwala nam "wej" w stan poprzedniego commita.
Po wywoaniu tej komendy, mo偶emy zacommitowa nowe pliki, kt贸re dodalimy do obszaru staged.
Przy okazji mo偶emy zmieni te偶 commit message.

Poni偶szy przykad ilustruje jak mo偶emy nadpisa poprzedni commit:

```bash
git commit -m "create navigation"
git add navigation.css
git commit --amend
```

## git commit --amend --no-edit

Inn wariacj nadpisania commita jest dodanie flagi `--no-edit`, co oznacza po prostu - nie edytuj commit message.
Ta komenda jest najczciej uzywana, gdy np. zapomnimy doda jakie pliki do poprzedniego commita, a powinny si w nim znale藕.

## Work in progress a.k.a. WIP

Kolejnym przykadem u偶ycia komendy `git commit --amend` bdzie tzw. *work in progress* (skr贸t. WIP).
Kiedy przydaje si commit message "WIP"?
Zdarza si tak, 偶e pracujemy nad jakim ficzerem i musimy przerwa prac.
Wychodzc w poowie roboty, nieraz ci偶ko sensowanie nazwa commita.
W takim przypadku mo偶na mu nada nazw "WIP".
Albo inny przykad: pracujemy z koleg z zespou i chcemy mu udostpni aktualny stan naszych prac, aby wsp贸lnie nad czym popracowa (przydatne w pracy zdalnej podczas *pair programming*).
Majc tzw. commita WIP, po dokoczeniu pracy nad dan funkcjonalnoci, mo偶emy zrobi finalnego commita.
Wtedy u偶yjemy komendy `git commit --amend` i zmienimy nazw commita z "WIP" na co bardziej sensownego .

## Nadpisanie commita w zdalnym repozytorium

Chcc nadpisa commit w zdalnym repozytorium, musimy skorzysta z komendy `git push --force`.
Jednak trzeba by **bardzo ostro偶nym**.
Jak nadpiszemy commit np. na Githubie, to nie bdziemy mieli dostpu do stanu commita sprzed zmiany.
Je偶eli mamy podpity CI, to uruchmi si nowy workflow dla tego commita.

<!-- Zainstalujemy Java Development Kit (JDK) na systemie macOS wykorzystujc SDKMAN (The Software Development Kit Manager).
Jak dla mnie, jest to najprostszy spos贸b na instalacj Javy, a waciwie JDK.

Co to jest JDK?
> W skad JDK wchodzi rodowisko Java Runtime Environment (JRE), kompilator jzyka Java i interfejsy API. - <ExternalPostLink url={"https://www.java.com/pl/download/help/develop.html"} name={"java.com"} />

## Instalacja JDK

1. Zainstaluj <ExternalPostLink url={"https://sdkman.io/install"} name={"sdkman"}/>
2. W terminalu wpisz `sdk list java`
3. Wybierz wersj JDK, kt贸r chcesz zainstalowa z kolumny `Identifier`
4. Zainstaluj JDK komend `sdk install java <Identifier>`
5. U偶yj zainstalowan wersj JDK `sdk use java <Identifier>`
6. `java -version` - Java powinna by zainstalowa

## Zmiana wersji JDK

SDKMAN pozwala na bardzo atwe przeczanie midzy r贸偶nymi wersjami Javy.
Aby przeczy si na inn wersj Javy, wystarczy zainstalowa sobie wybran wersj przy u偶yciu komendy `sdk install java <Identifier>` po czym wystarczy wpisa `sdk use java <Identifier>`.

### Przydatne linki
- <ExternalPostLink url={"https://sdkman.io"} name={"sdkman"}/>
- <ExternalPostLink url={"https://openjdk.java.net/"} name={"OpenJDK"}/> -->
